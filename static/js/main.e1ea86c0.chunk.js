(this.webpackJsonpreacttest=this.webpackJsonpreacttest||[]).push([[0],{105:function(e){e.exports=JSON.parse('{"name":"reacttest","version":"0.1.0","private":true,"homepage":"https://kaidevelopment.github.io/reacttest/","dependencies":{"@rmwc/button":"^6.1.4","@rmwc/card":"^6.1.4","@rmwc/circular-progress":"^6.1.4","@rmwc/drawer":"^6.1.4","@rmwc/linear-progress":"^6.1.4","@rmwc/list":"^6.1.4","@rmwc/select":"^6.1.4","@rmwc/textfield":"^6.1.4","@rmwc/theme":"^6.1.4","@rmwc/top-app-bar":"^6.1.4","@rmwc/typography":"^6.1.4","@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.5.0","@testing-library/user-event":"^7.2.1","@types/chart.js":"^2.9.25","@types/jest":"^26.0.13","@types/node":"^14.11.10","@types/react":"^16.9.53","@types/react-dom":"^16.9.8","@types/react-router-dom":"^5.1.6","@types/react-virtualized-auto-sizer":"^1.0.0","@types/react-window":"^1.8.2","chart.js":"^2.9.3","node-sass":"^4.14.1","react":"^16.14.0","react-chartjs-2":"^2.10.0","react-dom":"^16.14.0","react-media":"^2.0.0-rc.1","react-router-dom":"^5.2.0","react-scripts":"4.0.0-next.98","react-virtualized-auto-sizer":"^1.0.2","react-window":"^1.8.5","rmwc":"^6.1.4","typescript":"^4.0.3"},"scripts":{"postbuild":"@powershell mv ./git ./build/.git ","prebuild":"@powershell cp -r ./build/.git ./git ","start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{}}')},259:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(10),c=a.n(s),i=a(15),l=a(49),u=a(22),o=a(8),d=a(276),m=a(272),p=(a(77),a(56)),f=(a(127),a(36)),h=(a(129),a(11)),b=a.n(h),v=a(18),y=a(52),g=(a(79),a(107)),E=(a(134),a(27));function w(e){return j.apply(this,arguments)}function j(){return(j=Object(v.a)(b.a.mark((function e(t){var a,r,n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new URL("https://services7.arcgis.com/mOBPykOjAyBO2ZKk/ArcGIS/rest/services/Covid19_RKI_Sums/FeatureServer/0/query")).searchParams.append("where","1=1"),a.searchParams.append("outFields","Landkreis"),a.searchParams.append("returnDistinctValues","true"),a.searchParams.append("orderByFields","Landkreis"),a.searchParams.append("f","json"),e.next=8,fetch(a.toString(),{signal:t});case 8:return r=e.sent,e.next=11,r.json();case 11:return n=e.sent,s=n,e.abrupt("return",s.features.map((function(e){return e.attributes})));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=function e(t){Object(E.a)(this,e),this.date=void 0,this.dailyCases=void 0,this.sumCases=void 0,this.date=new Date(t.Meldedatum),this.dailyCases=t.AnzahlFall,this.sumCases=t.SummeFall};function x(e,t){return k.apply(this,arguments)}function k(){return(k=Object(v.a)(b.a.mark((function e(t,a){var r,n,s,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new URL("https://services7.arcgis.com/mOBPykOjAyBO2ZKk/ArcGIS/rest/services/Covid19_RKI_Sums/FeatureServer/0/query")).searchParams.append("where","Landkreis='".concat(a,"'")),r.searchParams.append("outFields","AnzahlFall,Meldedatum,SummeFall"),r.searchParams.append("orderByFields","Meldedatum DESC"),r.searchParams.append("f","json"),e.next=7,fetch(r.toString(),{signal:t});case 7:return n=e.sent,e.next=10,n.json();case 10:return s=e.sent,c=s,e.abrupt("return",c.features.map((function(e){return new O(e.attributes)})));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){return S.apply(this,arguments)}function S(){return(S=Object(v.a)(b.a.mark((function e(t,a){var r,n,s,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new URL("https://services7.arcgis.com/mOBPykOjAyBO2ZKk/ArcGIS/rest/services/RKI_Landkreisdaten/FeatureServer/0/query")).searchParams.append("where","county='".concat(a,"'")),r.searchParams.append("outFields","EWZ"),r.searchParams.append("f","json"),e.next=6,fetch(r.toString(),{signal:t});case 6:return n=e.sent,e.next=9,n.json();case 9:return s=e.sent,c=s,e.abrupt("return",c.features[0].attributes.EWZ);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=function(e){var t=Object(l.a)({query:"(max-width: 599px)"})?"56":"64";return n.a.createElement("div",Object.assign({style:{height:"calc(100vh - ".concat(t,"px)"),display:"flex",flexFlow:"column"}},e))},F=a(102),T=a(108),A=function(e){return n.a.createElement(F.a,null,(function(t){var a=t.height,s=t.width;return n.a.createElement(T.a,{height:a,itemCount:e.items.length,itemSize:e.itemSize,style:e.style,width:s},(function(t){var a=t.index,s=t.style;return n.a.createElement("div",{style:s},Object(r.createElement)(e.itemComponent,{item:e.items[a]}))}))}))},D=a(38),P=a(37),z=a(103),I=function(e,t){var a=Object(r.useState)(e),n=Object(i.a)(a,2),s=n[0],c=n[1],l=Object(r.useState)(R),u=Object(i.a)(l,2),o=u[0],d=u[1];return Object(r.useEffect)((function(){if(s.shouldLoad){var e=new AbortController;return function(){var a=Object(v.a)(b.a.mark((function a(){var r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return d(M),a.prev=1,a.next=4,t(e.signal,s.data);case 4:r=a.sent,e.signal.aborted||d(new Y(r)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),e.signal.aborted||d(new K("error"));case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(){return a.apply(this,arguments)}}()(),function(){e.abort()}}d(R)}),[s]),[o,s,c]},B=function(){function e(){Object(E.a)(this,e)}return Object(z.a)(e,[{key:"isEmpty",value:function(){return this===R}},{key:"isLoading",value:function(){return this===M}},{key:"isSuccess",value:function(){return this instanceof Y}},{key:"isError",value:function(){return this instanceof K}}]),e}(),M=new(function(e){Object(D.a)(a,e);var t=Object(P.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return a}(B)),R=new(function(e){Object(D.a)(a,e);var t=Object(P.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return a}(B)),Y=function(e){Object(D.a)(a,e);var t=Object(P.a)(a);function a(e){var r;return Object(E.a)(this,a),(r=t.call(this)).data=e,r}return a}(B),K=function(e){Object(D.a)(a,e);var t=Object(P.a)(a);function a(e){var r;return Object(E.a)(this,a),(r=t.call(this)).message=e,r}return a}(B),Z=function(e){Object(r.useEffect)((function(){return e.setTitle("Regionen")}));var t=I({shouldLoad:!0,data:null},function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a=Object(i.a)(t,1)[0],s=Object(r.useState)(""),c=Object(i.a)(s,2),l=c[0],u=c[1];return n.a.createElement(L,null,n.a.createElement(y.a,{closed:!a.isLoading()}),n.a.createElement(g.a,{outlined:!0,value:l,onChange:function(e){return u(e.currentTarget.value)},style:{margin:"4px 4px 0px",flex:"0 1 auto",color:"var(--mdc-theme-on-surface)"},icon:"search"}),n.a.createElement("div",{style:{flex:"1 1 auto"}},a.isSuccess()&&n.a.createElement(A,{items:a.data.filter((function(e){return e.Landkreis.toLowerCase().includes(l.toLowerCase())})),itemSize:48,itemComponent:_}),a.isError()&&n.a.createElement("div",null,a.message)))},_=function(e){var t=e.item;return n.a.createElement(m.b,{tag:u.b,to:"/districts/".concat(t.Landkreis),text:t.Landkreis})};var q=a(74),G=(a(144),a(73)),W=(a(146),a(275)),J=(a(150),a(72)),U=a(69),H=a.n(U),N=function(e){var t=e.setTitle,a=Object(o.f)().district;Object(r.useEffect)((function(){t(a)}));var s=I({shouldLoad:!0,data:null},function(){var e=Object(v.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t,a);case 2:return e.t0=e.sent,e.next=5,C(t,a);case 5:return e.t1=e.sent,e.abrupt("return",{dailyData:e.t0,popCount:e.t1});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c=Object(i.a)(s,1)[0];return n.a.createElement("div",null,n.a.createElement(y.a,{closed:!c.isLoading()}),c.isSuccess()&&n.a.createElement(V,c.data),c.isError()&&c.message)},V=function(e){var t=e.dailyData,a=e.popCount,r=t.map((function(e){return e.date})),s=Array.from({length:t.length-7},(function(e,r){return 1e5*(t[r].sumCases-t[r+7].sumCases)/a}));return n.a.createElement("div",null,n.a.createElement(G.a,{style:{padding:"4px",margin:"4px"}},n.a.createElement(q.a,{use:"body1"},"Letze Meldung: ",H()(t[0].date).format("DD.MM.YYYY"),n.a.createElement("br",null),"Gesamte F\xe4lle: ",t[0].sumCases,n.a.createElement("br",null),"Inzidenz: ",s[0].toFixed(1),n.a.createElement("br",null),"Einwohner: ",a,n.a.createElement("br",null))),n.a.createElement($,{title:"Inzidenz",chart:J.Line,labels:r,values:s}),n.a.createElement($,{title:"Gemeldete F\xe4lle pro Tag",chart:J.Bar,labels:r,values:t.map((function(e){return e.dailyCases}))}))},$=function(e){var t=e.title,a=e.chart,s=e.labels,c=e.values,l=Object(r.useState)("30"),u=Object(i.a)(l,2),o=u[0],d=u[1],m=parseInt(o);return n.a.createElement(G.a,{style:{padding:"4px",margin:"4px"}},n.a.createElement(q.a,{use:"headline5"},t,": ",c[0].toFixed(1)),n.a.createElement(a,{data:{labels:s.slice(0,m),datasets:[{data:c.slice(0,m),backgroundColor:"#004DA880",borderColor:"#004DA8"}]},options:{scales:{xAxes:[{type:"time",time:{tooltipFormat:"DD.MM.YYYY",displayFormats:{day:"DD.MM"}}}],yAxes:[{ticks:{beginAtZero:!0}}]},tooltips:{displayColors:!1,callbacks:{label:function(e){return e.yLabel.toFixed(1)}}},elements:{point:{radius:0,hitRadius:25}},legend:{display:!1}}}),n.a.createElement("div",{style:{margin:"8px",width:"min-content"}},n.a.createElement(W.a,{label:"Dauer",outlined:!0,value:o,options:[{label:"30 Tage",value:"30"},{label:"60 Tage",value:"60"},{label:"180 Tage",value:"180"}],onChange:function(e){return d(e.currentTarget.value)}})))},Q=a(51),X=function(e){return Object(r.useEffect)((function(){return e.setTitle("Home")})),n.a.createElement("div",null,n.a.createElement(Q.a,{raised:!0,style:{margin:"4px"},tag:u.b,to:"/districts",children:"W\xe4hle Region"}))},ee=a(105),te=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)("Title"),o=Object(i.a)(c,2),h=o[0],b=o[1],v=Object(l.a)({query:"(min-width: 800px)"});Object(r.useEffect)((function(){document.title=h}),[h]);var y=n.a.createElement(d.a,null,n.a.createElement(m.a,{tag:u.b,to:"/",children:"Home",onClick:function(){v||s(!a)}}),n.a.createElement(m.a,{tag:u.b,to:"/districts",children:"Regionen",onClick:function(){v||s(!a)}})),g=n.a.createElement(p.a,{style:{overflowY:"auto",position:"fixed"},modal:!v,dismissible:v,open:a,onClose:function(){return s(!1)}},n.a.createElement(p.c,null,!v&&n.a.createElement(f.b,null),y),v&&n.a.createElement(f.b,null));return n.a.createElement(u.a,{basename:ee.homepage},n.a.createElement("div",null,!v&&g,n.a.createElement(f.a,{fixed:!0,title:h,navigationIcon:!0,onNav:function(){return s(!a)},actionItems:[]}),n.a.createElement(f.b,null),v&&g,n.a.createElement(p.b,{style:{overflow:"hidden"}},n.a.createElement(ae,{setTitle:b}))))},ae=function(e){return n.a.createElement(o.c,null,n.a.createElement(o.a,{path:"/districts/:district",children:n.a.createElement(N,{setTitle:e.setTitle})}),n.a.createElement(o.a,{path:"/districts",children:n.a.createElement(Z,{setTitle:e.setTitle})}),n.a.createElement(o.a,{path:"/",children:n.a.createElement(X,{setTitle:e.setTitle})}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[259,1,2]]]);
//# sourceMappingURL=main.e1ea86c0.chunk.js.map